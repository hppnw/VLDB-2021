# Lab1 TinySQL 实现探索与问题解决

## 一、任务目标与拆解
Lab1 主要目标是实现 TinySQL 的基本 SQL 解析与执行框架，包括：
- SQL 语句的解析
- 基本的表结构管理
- 简单的增删查改（CRUD）操作

## 二、实现步骤
1. **SQL 解析器接入**
   - 采用 parser 包解析 SQL，理解 AST 结构。
   - 逐步实现对 CREATE、INSERT、SELECT、DELETE 等语句的解析。
2. **表结构管理**
   - 设计元数据结构，支持表的创建与删除。
   - 实现内存表存储，便于后续调试。
3. **执行器实现**
   - 针对不同 SQL 类型，编写对应的执行逻辑。
   - SELECT 语句支持简单的条件过滤。

## 三、遇到的问题与调试过程
### 1. SQL 解析异常
- **现象**：部分 SQL 语句解析失败，报错信息不明确。
- **排查**：对比 parser 文档，发现 AST 节点类型未覆盖所有语法。
- **解决**：补充 AST 处理分支，增加日志定位具体解析失败点。

### 2. 表结构元数据丢失
- **现象**：多表操作时，部分表信息丢失。
- **排查**：检查表管理模块，发现未正确维护表名与结构映射。
- **解决**：重构表管理代码，统一用 map 存储所有表元数据。


## 四、最终验证
- 通过所有 lab1 测试用例，功能覆盖 CREATE/INSERT/SELECT/DELETE。
- 代码结构清晰，便于后续扩展。

---

# 总结
Lab1 通过逐步拆解任务、定位问题、调试修复，最终实现了 TinySQL 的基础功能。遇到的问题多为解析和数据结构维护，均通过日志和单元测试有效解决。
